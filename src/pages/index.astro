---
import Layout from "../layouts/Layout.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import Profile from "../components/Profile/Profile.astro";
import Experience from "../components/Experience/Experience.astro";
import ProfileImagePath from "../assets/images/profile.webp";
import YoutubeChannel from "../components/YoutubeChannel/YoutubeChannel.astro";
import Social from "../components/Social/Social.astro";
import ChatButton from "../components/Chat/ChatButton.astro";
import YoutubeVideos from "../components/YoutubeVideos/YoutubeVideos.astro";
import RecentBlogs from "../components/RecentBlogs/RecentBlogs.astro";
---

<Layout title={ SITE_TITLE }>
	<div class="col-main">
		<div class="grid-top">
			<div class="grid-top-left">
				<Profile
					title="I'M YASH KUKREJA"
					description="Software Engineer and Content Creator building for the web."
					image={ ProfileImagePath }
				/>
			</div>
			<div class="grid-top-right">
				<ChatButton />
			</div>
		</div>

		<div class="grid-middle">
			<Experience
				title="EXPERIENCE"
				experiences={
					[
						{
							company: "rtCamp",
							role: "Software Engineer",
							duration: "2023 - Present",
							description: ["Worked with a leading enterprise travel company to craft and enhance their user-facing website.","Technologies: WordPress & Gutenberg, TypeScript, SCSS and Blade."],
						},
						{
							company: "Youtube",
							role: "Content Creation",
							duration: "2020 - 2022 -- Break -- 2025",
							description: ["Creating content around Software Engineering, Web Development, and Tech."],
						}
					]
				}
			/>

			<div class="flex-col-gap">
				<YoutubeChannel
					title="HOW'S THE CODE?"
					description="I create content around Software Engineering, Web Development, and Tech!"
					url="https://www.youtube.com/@howsthecode"
				/>

				<div class="socials-grid">
					<Social link="https://www.linkedin.com/in/yash-kukreja/" icon="fa-linkedin" color="#0077b5" text="LinkedIn" />
					<Social link="https://github.com/vampdroid" icon="fa-github" color="inherit" text="GitHub" />
					<Social link="https://x.com/yashskukreja" icon="fa-x-twitter" color="inherit" text="X Profile" />
					<Social link="https://bsky.app/profile/yashkukreja.bsky.social" icon="fa-cloud" color="#0085ff" text="Bluesky" />
				</div>
			</div>
		</div>

		<div class="card project-card">
			<div>
				<h2 class="font-display project-title">
					<i class="fa-solid fa-code text-primary icon-small"></i> PERSONAL PROJECT
				</h2>
			</div>
			<div class="project-loader-container">
				<div class="project-loader-bar">
					<div class="project-loader-fill"></div>
				</div>
				<p class="text-muted project-text">Layout in Progress...</p>
			</div>
		</div>
	</div>

	<div class="col-sidebar">
		<div class="sidebar-section">
			<h2 class="sidebar-title">Latest Youtube Content</h2>
			<YoutubeVideos />
		</div>
		
		<div class="sidebar-section">
			<h2 class="sidebar-title">Blog Content</h2>
			<RecentBlogs />
		</div>
	</div>
</Layout>

<style>
	.grid-top {
		display: grid;
		grid-template-columns: 1fr;
		gap: 1.5rem;

		@media (min-width: 768px) {
			grid-template-columns: repeat(3, 1fr);
		}
	}
	.grid-top-left {
		height: 100%;
		@media (min-width: 768px) {
			grid-column: span 2 / span 2;
		}
	}
	.grid-top-right {
		height: 100%;
	}
	.grid-middle {
		display: grid;
		grid-template-columns: 1fr;
		gap: 1.5rem;
		height: 100%;

		@media (min-width: 768px) {
			grid-template-columns: repeat(2, 1fr);
		}
	}
	.flex-col-gap {
		display: flex;
		flex-direction: column;
		gap: 1.5rem;
	}
	.socials-grid {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		gap: 1rem;
	}
	.sidebar-section {
		display: flex;
		flex-direction: column;
		gap: 1rem;
	}
	.sidebar-title {
		font-family: var(--font-display);
		font-size: 1.125rem;
		font-weight: 700;
		color: var(--color-text);
		text-transform: uppercase;
		letter-spacing: 0.025em;
	}

	.project-card {
		min-height: 160px;
		display: flex;
		flex-direction: column;
		justify-content: space-between;
	}
	.project-title {
		font-size: 1.25rem;
		font-weight: 700;
		margin-bottom: 0.5rem;
		display: flex;
		align-items: center;
		gap: 0.5rem;
		color: var(--color-text);
	}
	.icon-small {
		font-size: 0.875rem;
	}
	.project-loader-container {
		margin-top: 1rem;
	}
	.project-loader-bar {
		height: 0.5rem;
		width: 100%;
		background-color: var(--color-border);
		border-radius: 9999px;
		overflow: hidden;
	}
	.project-loader-fill {
		height: 100%;
		background-color: var(--color-primary);
		width: 33.333333%;
		animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
	}
	.project-text {
		font-size: 0.875rem;
		margin-top: 0.5rem;
		font-family: monospace;
	}

	@keyframes pulse {
		0%, 100% {
			opacity: 1;
		}
		50% {
			opacity: .5;
		}
	}
</style>
